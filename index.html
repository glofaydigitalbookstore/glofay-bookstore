<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Glofay Digital Bookstore</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://js.paystack.co/v1/inline.js"></script>

<style>
body{font-family:Arial,sans-serif;margin:0;background:#f2f4f7;padding-top:120px}
header{position:fixed;top:0;width:100%;background:#0f172a;color:#fff;padding:15px;z-index:1000}
.nav{max-width:1200px;margin:auto;display:flex;justify-content:space-between;align-items:center}
.nav a{color:#fff;margin-left:15px;text-decoration:none}
.container{max-width:1200px;margin:auto;padding:20px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:25px}
.card{background:#fff;border-radius:12px;box-shadow:0 6px 15px rgba(0,0,0,.1);display:flex;flex-direction:column}
.card img{height:260px;object-fit:contain;background:#f9fafb}
.card-content{padding:15px;display:flex;flex-direction:column}
.price{color:#10b981;font-weight:bold}
button{margin-top:auto;padding:12px;background:#2563eb;color:#fff;border:none;border-radius:8px;cursor:pointer}
footer{background:#0f172a;color:#fff;padding:30px;text-align:center;margin-top:40px}
</style>
</head>

<body>

<header>
  <div class="nav">
    <strong>Glofay Digital Bookstore</strong>
    <nav>
      <a href="#">Books</a>
      <a href="#">Contact</a>
    </nav>
  </div>
</header>

<div class="container">
  <div class="grid" id="bookList"></div>
</div>

<footer>
  <p>&copy; 2026 Glofay Digital Bookstore</p>
</footer>

<script>
const books = [
  {title:"Satan Get Lost",author:"David Oyedepo",price:600,image:"satan_get_lost.jpeg",file:"ebooks/satan_get_lost.pdf"},
  {title:"Born To Win",author:"David Oyedepo",price:900,image:"born_to_win.jpeg",file:"ebooks/born_to_win.pdf"},
  {title:"Winning Prayer",author:"David Oyedepo",price:1200,image:"winning_prayer.jpeg",file:"ebooks/winning_prayer.pdf"}
];

const bookList = document.getElementById("bookList");

function renderBooks(){
  books.forEach(book=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`
      <img src="${book.image}" alt="${book.title}">
      <div class="card-content">
        <h3>${book.title}</h3>
        <p>${book.author}</p>
        <p class="price">â‚¦${book.price}</p>
        <button>Pay & Download</button>
      </div>`;
    div.querySelector("button").onclick=()=>pay(book);
    bookList.appendChild(div);
  });
}

function pay(book){
  const email = prompt("Enter your email:");
  if(!email) return;

  PaystackPop.setup({
    key: "pk_live_0608f614dafc69d94ac92d2ff3a327e5fe6c47d4",
    email: email,
    amount: book.price * 100,
    currency: "NGN",
    callback: function(){
      alert("Payment successful! Download starting...");
      startDownload(book.file);
    },
    onClose: function(){
      alert("Payment cancelled");
    }
  }).openIframe();
}

function startDownload(file){
  const a = document.createElement("a");
  a.href = file;
  a.download = "";
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
}

renderBooks();
</script>

</body>
</html>
